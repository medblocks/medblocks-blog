---
layout: post
title: FHIR Fundamentals - Interacting with REST Operations
subtitle: Using Insomnia
thumbnail-img: /assets/blog/snomed-logo.png
share-img: /assets/blog/snomed-logo.png
tags: ["REST","API"]
comments: true
---


# Pre-requisites:
1. Download and install Insomnia.





After we've made our resources,Let's See how to post this to a fire Server.
Ho7 has a list of publicly available servers  [link](https://wiki.hl7.org/Publicly_Available_FHIR_Servers_for_testing).We'll be using Hapi FHIR reference server with r4 end point.
 
# REST Operations with Insomnia:
## 1. Setup
     1.Copy the base url 
     2.Open Insomnia, Make a new request and paste the base url.Perform a sample GET request and you should get the same base url.
## 2.How to Post a Patient Resource
 Sample Patient Resource JSON-file
```json
{
    "resourceType":"Patient",
    "name":[
        {
            "use":"official",
            "given":["Sidharth"],
            "family":"Ramesh"
        }
    ],
    "gender":"Male",
    "birthdate":"1997-09-08",

}

```
As you can see this resource does not have an ID here, But ID will be generated by the server.

    1.Change GET to POST.
    2.Paste the Patient Resource as JSON
    3.Post the Resource with Patient Endpoint by adding Patient in the end of the URL.

    The Server Would Respond Saying "201 created" and We'll Get Our ID as well.

## 3.How to Create a Observation for the Patient
  
    1.Change GET to POST
    2.Make the endpoint as observation by adding observation in the end of the URL.

  Sample Observation JSON file

```json
{
    "resourceType":"Observation",
    "status":"final",
    "code":{
        "coding":[
        {
            "system":"",
            "code":,
            "display":"Glucose in blood"
        }
    ]
   },
    "subject":{
        "reference": "Patient/f001",
        "display":"Sidharth Ramesh"
    },
    "valueQuantity":{
        "value":6.3
    },
    

}

```
  3. Make sure you put the id generated by the server for the patient in the reference and POST the Observation JSON 

  ```json 

  "subject":{
        "reference": "Patient/f001",
  }

   ```

4.How to edit a Particular Resource

  Let's say that you want to edit the value and change it to 4.3

  ```json 

  "valueQuantity":{
        "value":6.3
    },

```
You should change the status in the resource element to "Corrected"  since you are Editing it. 

```json
{
    "resourceType":"Observation",
    "status":"Corrected",
    "code":{
        "coding":[
        {
            "system":"",
            "code":,
            "display":"Glucose in blood"
        }
    ]
   },
    "subject":{
        "reference": "Patient/f001",
        "display":"Sidharth Ramesh"
    },
    "valueQuantity":{
        "value":"4.3"
    },

}

```
When you want to update a resource  you need to specify the id in the resource element.


```json
{
    "resourceType":"Observation",
    "status":"corrected",
    "id": ,
    "code":{
        "coding":[
        {
            "system":"",
            "code":,
            "display":"Glucose in blood"
        }
    ]
   },
    "subject":{
        "reference": "Patient/f001",
        "display":"Sidharth Ramesh"
    },
    "valueQuantity":{
        "value":6.3
    },
    

}

```
  The URL also must contain the ID.
 
  Change POST to PUT and send the url, The Resource will be updated.


The GET also supports Search,which is used to search on a fhir server which will be covered in the next blog post.
